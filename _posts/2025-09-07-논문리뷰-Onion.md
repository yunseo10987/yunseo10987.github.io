---
title: "[2025-09-07] Onions Got Puzzled"
excerpt: "Tor network"

categories:
  - Reviews
tags:
  - [NetWork, DoS]

permalink: /Reviews/[2025-09-07] Onions Got Puzzled/

toc: true
toc_sticky: true

date: 2025-09-07
last_modified_at: 2025-09-07
---

## π¦¥ λ³Έλ¬Έ

## Tor network

### μ •μ λ° κ°λ…

μµλ… λ„¤νΈμ›ν¬. relayλΌλ” μΌλ ¨μ μ„λ²„λ“¤μ„ ν†µν•΄ λΌμ°ν…. 

Tor networkμ onion systemμ€ .onion μ£Όμ†λ¥Ό ν†µν•΄ μµλ…μ„±μ„ μ μ§€ν•κ³  Tor networkλ¥Ό ν†µν•΄μ„λ§ μ ‘κ·Ό κ°€λ¥. 

![image.png](https://yunseo10987.github.io/assets/images/posts_img/2025-09-10%20Onion/image-7.png)

### λ™μ‘ νλ¦„

1. μ„λΉ„μ¤ Tor networkμ λ¦΄λ μ΄ μ¤‘ λ‡λ‡μ„ μ—°κ²°ν•μ—¬ μμ‹ μ΄ μ ‘μ† λ°›μ„ μ μλ” μ§€μ μΈ IPλ¥Ό μƒμ„±
2. μ„λΉ„μ¤ λ””μ¤ν¬λ¦½ν„°μ— IPμ„ ν¬ν•¨ν•μ—¬ μμ‹ μ μ •λ³΄λ¥Ό ν¬ν•¨μ‹ν‚¤κ³  Tor networkμ λ””λ ‰ν† λ¦¬ μ„λ²„μ— κ²μ‹
3. ν΄λΌμ΄μ–ΈνΈλ” μ ‘μ†ν•λ ¤λ” μ„λΉ„μ¤λ¥Ό λ””λ ‰ν† λ¦¬ μ„λ²„μ—μ„ μ΅°ν
4. ν΄λΌμ΄μ–ΈνΈλ” μ„λΉ„μ¤ λ””μ¤ν¬λ¦½ν„°λ¥Ό ν†µν•΄ ν•΄λ‹Ή μ„λΉ„μ¤μ IP λ©λ΅κ³Ό μ •λ³΄λ“¤μ„ νλ“
5. ν΄λΌμ΄μ–ΈνΈλ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λΉ„μ¤κ°€ μµλ…μΌλ΅ λ§λ‚  RP μ„ νƒν•κ³  μ„ν‚·μ„ μ„¤μ •
6. ν΄λΌμ΄μ–ΈνΈκ°€ IPλ¥Ό ν†µν•΄ ν•΄λ‹Ή RPμ μ„ν‚·μ„ μ„¤μ •ν•μλ” intro-requestλ¥Ό λ³΄λƒ„
7. intro-requestλ¥Ό λ°›μ€ μ„λΉ„μ¤λ” RPκΉμ§€ μ„ν‚·μ„ μ„¤μ •ν•κ³  ν•΄λ‹Ή RPμ—μ„ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ

## Intro-Flooding

### μ •μ λ° κ°λ…

- λ§μ€ Intro-requestλ¥Ό λ³΄λ‚΄aμ„ λ§μ€ RPμ— λ§μ€ μ„ν‚·μ„ μ„¤μ •ν•κ² ν•λ” DoS κ³µκ²© μ „λµ.
    
    Dos : Denial of Serviceλ΅ μ •μƒ μ‚¬μ©μλ“¤μ΄ μ„λΉ„μ¤λ¥Ό μ΄μ©ν•μ§€ λ»ν•κ² λ§λ“λ” κ³µκ²©.
    

### λ€μ‘ λ°©λ²• λ° ν•κ³„

- Source-based filtering : μμ‹¬λλ” sourceλ¥Ό λ°΄ν•κ±°λ‚ μ¤ν¬λ¬λΉ™ μ„λΉ„μ¤λ¥Ό ν†µν• νΈλν”½ λ¦¬λ””λ ‰μ…
    
    μ¤ν¬λ¬λΉ™ μ„λΉ„μ¤ : νΈλν”½μ„ λ¶„μ„ν•κ³  μ •μƒμ μΈ μ”μ²­κ³Ό λΉ„μ •μƒμ μΈ μ”μ²­ κµ¬λ¶„
    
    ν•κ³„ : μµλ…μ„± λ•λ¬Έμ— λ‹¤λ¥Έ λ‘ μ†μ¤λ¥Ό κµ¬λ¶„ν•  μ μ—†μ
    
- Replication-based μ™„ν™” μ •μ±… : λ³µμ λ¥Ό ν†µν• μ„λΉ„μ¤ κ³Όμ‰ κ³µκΈ‰ λ°©λ²•
    
    ν•κ³„ : onion μ„λΉ„μ¤μ μµλ…μ„±κ³Ό νƒμ¤‘μ•™ν™”μΌλ΅ μΈν•΄ νλ“¦. μν‰μ  ν™•μ¥ λ°©μ‹ μ—­μ‹ DoSλ¥Ό κ³µκ²©μ„ λ°›μΌλ©΄ IPμ— μ ‘κ·Όν•λ” κ² λ¶κ°€ν•λ‹¤λ” μ κ³Ό λ³µμ μ μµλ€λ‰μ΄ μ μ•½λλ‹¤λ” μ μ—μ„ νλ“¦.
    
- Source testing : CAPTCHAμ™€ κ°™μ€ λ°©μ‹μΌλ΅ ν΄λΌμ΄μ–ΈνΈλ¥Ό ν…μ¤νΈν•μ—¬ μ‚¬λκ³Ό λ΄‡μ„ κµ¬λ³„
    
    ν•κ³„ : RP μ„ν‚·μ΄ μ„¤λ¦½ν• ν›„μ— CAPTCHAλ¥Ό ν•΄μ•Ό ν•κΈ° λ•λ¬Έμ— intro-floodingμ„ λ§‰μ§€ λ»ν•¨
    

β†’ Tor networkμ μµλ…μ„±μΌλ΅ μΈν•΄ λ§μ€ μ μ•½μ΄ λ°μƒν•μ—¬ λΉ„ν¨μ¨μ μ΄κ±°λ‚ λ¶κ°€λ¥ν• λ°©μ‹

## Client-puzzle

### μ •μ λ° κ°λ…

ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„κ°€ μ κ³µν•λ” μ•”νΈ νΌμ¦μ„ ν’€μ–΄μ•Ό μ„λΉ„μ¤λ¥Ό λ°›μ„ μ μλ” λ°©μ‹μΌλ΅ κ³µκ²©μλ” κ³µκ²©μ„ λ°μƒν•κΈ° μ„ν•΄μ„ λ§μ€ μμ›μ„ μ¨μ•Ό ν•μ§€λ§ λ°©μ–΄μλ” μµμ†ν•μ λ…Έλ ¥λ§ ν•λ©΄ λλ” proof-of-work μ•„μ΄λ””μ–΄μ—μ„ κ³ μ•.  

### νΉμ§•

κ° νΌμ¦μ€ νΉμ • νλΌλ―Έν„°μ™€ μ„ ν–‰ κ³„μ‚° κ³µκ²©μ„ λ§‰λ” μ‹λ“λ¥Ό ν¬ν•¨. μ‹λ“κ°€ λ³€κ²½λλ©΄ μ΄μ „μ μ ν¨ν• μ •λ‹µλ“¤μ€ λ¬΄ν¨ν™”. νΌμ¦μ„ λ°›μλ§μ ν΄λΌμ΄μ–ΈνΈλ” μ ν¨ν• λ‹µμ„ μ°ΎκΈ° μ„ν•΄ λ°λ³µμ μΌλ΅ μ•”νΈ μ‘μ—…μ„ μν–‰, λ°λ©΄μ— μ„λ²„λ” μ•„μ£Ό ν¨μ¨μ μΌλ΅, μ μ€ λ…Έλ ¥μΌλ΅ μ μ‹λ ν•΄λ‹µμ„ μ¦λ…. 

μ •μƒ μ‚¬μ©μμ—κ² νƒ€λ‹Ήν•μ§€ μ•κ³  μ‚¬μ†ν•μ§€ μ•μ€ λ¶€λ‹΄μ„ μ¤€λ‹¤λ” κ²ƒ λ•λ¬Έμ— λ„λ¦¬ μ‚¬μ©λμ§€ μ•μ•μ§€λ§ Tor networkμ—μ„λ” μ—°κ²° μ„¤λ¦½ν•λ” λ° μ¤λ κ±Έλ¦¬κΈ° λ•λ¬Έμ— μ‚¬μ†ν• λ¶€λ‹΄.

μ¥μ 

1. ASIC μ €ν•­ : Application-Specific Integrated circuits. νΌμ¦ ν•΄κ²°μ„ μ„ν• λ°λ„μ²΄. μΌλ° μ‚¬μ©μμ™€λ” λ¶κ³µμ •ν• μ΄μ μ„ κ°–κ³  μμ. 
    
    μƒλ΅μ΄ μ‹λ“λ¥Ό μ„ν• λ‚΄λ¶€ λ΅μ§μ„ λλ¤ν™”ν•λ” ν•΄μ‹ ν•¨μκ°€ μμ. ASICλ” νΉμ • μ—°μ‚°λ§μ„ λΉ λ¥΄κ² μ—°μ‚°ν•λ” κ³ μ •λ λ΅μ§μ„ κ°€μ§€λ” λ°, λ‚΄λ¶€ λ΅μ§μ„ λ°”κΏ”μ„ ASICλ¥Ό μ™„ν™”ν•¨.
    
2. λ©”λ¨λ¦¬ μ”κµ¬μ‚¬ν•­
    
    μƒλ‹Ήν• RAM μ‘μ—…μ„ μ”κµ¬.  νΌμ¦μ„ λ©μ μΌλ΅ν• νΉμ ν•λ“μ›¨μ–΄λ” RAMμ΄ μ ν•μ . κ·Έλ ‡κΈ° λ•λ¬Έμ— μ‚¬μ©μμ™€ νΉμ ν•λ“μ›¨μ–΄ μ‚¬μ©μμ™€μ μ„±λ¥ κ²©μ°¨λ¥Ό μ¤„μ„
    
3. μ„ ν•μ  λ‚μ΄λ„ μ¦κ°€
    
    μ „ν†µμ μΈ κ²ƒμ€ μ§€μμ  μ¦κ°€. μ„ ν•μ μΌλ΅ μ¦κ°€ν•μ—¬ λ‚μ΄λ„λ¥Ό μ„Έλ°€ν•κ² μ΅°μ •ν•  μ μμ. λ¶ν•„μ”ν• λ‚μ΄λ„ μ¦κ°€λ” μΌλ° μ‚¬μ©μμ λ¶νΈμ„ μ΄λν•λ”λ°, μ λ‹Ήν• λ‚μ΄λ„ μ΅°μ •μΌλ΅ μΌλ° μ‚¬μ©μλ” λ†”λ‘κ³  κ³µκ²©μ—λ” λ€μ‘
    

### λ™μ‘ νλ¦„

![image.png](https://yunseo10987.github.io/assets/images/posts_img/2025-09-07%20Onion/image.png)

1. ν΄λΌμ΄μ–ΈνΈκ°€ νΌμ¦μ λ‚μ΄λ„λ¥Ό μ„ νƒ. κΈ°λ³Έμ μΌλ΅ μ„λΉ„μ¤μ—μ„ μ μ•λλ” λ‚μ΄λ„.
2. ν΄λΌμ΄μ–ΈνΈκ°€ νΌμ¦μ„ ν’€κ³  intro-requestλ¥Ό λ³΄λƒ„.
3. μ„λΉ„μ¤λ” λ‹µμ΄ λ§λ” μ§€ ν™•μΈν•κ³  intro-requestλ¥Ό λ‚μ΄λ„μ— λ”°λ¥Έ μ°μ„  μμ„ νμ— μ¶”κ°€
4. μ„λΉ„μ¤λ” μ”μ²­μ„ κΊΌλ‚΄μ„ RPμ— λ€ν• μ„ν‚·μ„ μ„¤λ¦½

### DUA

μ°μ„  μμ„ ν μƒνƒμ— κΈ°λ°ν• λ‚μ΄λ„ μ—…λ°μ΄νΈ μ•κ³ λ¦¬μ¦. μ¦‰, νΌμ΅ μƒνƒλ¥Ό κ°μ§€ν•μ—¬ λ‚μ΄λ„ μ΅°μ . λ‚μ΄λ„λ” μ—…λ°μ΄νΈ λΌμ΄λ“κ°€ λλ‚  λ•λ§λ‹¤ μ£ΌκΈ°μ μΌλ΅ κ°±μ‹ . AIMD λ°©μ‹. 

- μ•κ³ λ¦¬μ¦
    - λ‚μ΄λ„ μ¦κ°€ : ν‰κ·  λ‚μ΄λ„μ™€ (κΈ°μ΅΄ μ μ•λ λ‚μ΄λ„ + 1) μ¤‘ ν° κ°’μΌλ΅ μ„ νƒ
        - λ²„λ ¤μ§„ μ”μ²­μ λ‚μ΄λ„κ°€ ν„μ¬ λ‚μ΄λ„κ°€ ν° κ²½μ°
        - νΌμ΅ μƒνƒμ΄κ³  νμ— λ” λ†’μ€ λ‚μ΄λ„ μ”μ²­μ΄ λ‚¨μ•„ μλ” κ²½μ°
    - λ‚μ΄λ„ κ°μ† : κΈ°μ΅΄ μ μ•λ λ‚μ΄λ„ x 2/3
        - μ”μ²­μ μκ°€ νΉμ • κΈ°μ¤€μΉ (16 or 63)λ³΄λ‹¤ λ‚®μ•„μ§€λ” κ²½μ°
    - λ‚μ΄λ„ μ μ§€
        - μ„μ κ²½μ°κ°€ μ•„λ‹ λ‚λ¨Έμ§€μ κ²½μ°
- μ‹¤ν— λ‚΄μ© : Xμ¶•μ€ μ‚¬μ©μ λ€κΈ° μ‹κ°„. Yμ¶•μ€ μ„λΉ„μ¤λ¥Ό μ΄μ©ν• ν΄λΌμ΄μ–ΈνΈμ λΉ„μ¨
    
    ![image.png](https://yunseo10987.github.io/assets/images/posts_img/2025-09-07%20Onion/image-2.png)
    
    νΌμ¦ μ‹μ¤ν…μ΄ κ³µκ²©μΌλ΅ μΈν• λ€κΈ°μ‹κ°„μ„ μ¤„μ—¬μ¤€λ‹¤λ” μ μ—μ„ intro-flooding κ³µκ²©μ„ μ™„ν™”μ‹ν‚΄μ„ λ³΄μ„  
    

## ONIONFLATION

### μ •μ λ° κ°λ…

λ‚μ΄λ„λ¥Ό λ¶€ν’€λ¦¬λ” κ³µκ²©. κ³µκ²© νΈλν”½ λ³Όλ¥¨κ³Ό νΌμ¦μ„ ν’€ λ• ν•„μ”ν• λ¦¬μ†μ¤λ¥Ό μµμ†ν™”. 

### μΆ…λ¥

1. END-RUSH ATTACK : μ μ•λ λ‚μ΄λ„ μ΄μƒμ μ²λ¦¬λμ§€ μ•μ€ μ”μ²­μ„ λ‚¨κ²¨ νΌμ¦ λ‚μ΄λ„λ¥Ό λ¶€ν’€λ¦¬λ” κ³µκ²©(=small burst of intro-reqs)
    - λ™μ‘ νλ¦„
        1. λ””λ ‰ν† λ¦¬ μ„λ²„μ—μ„ λ””μ¤ν¬λ¦½ν„°λ¥Ό λΉλ²ν•κ² κ°€μ Έμ™€μ„ λ‹¤μ μ—…λ°μ΄νΈμ νƒ€μ΄λ° μ •λ³΄ νλ“
        2. λ†’μ€ λ‚μ΄λ„μ νΌμ¦μ„ ν‘Ό μ”μ²­μ„ μ—…λ°μ΄νΈ μ£ΌκΈ° λ§‰λ°”μ§€μ— λ³΄λƒ„
        3. μ²λ¦¬λμ§€ μ•μ€ λ†’μ€ λ‚μ΄λ„μ νΌμ¦μ„ ν‘Ό μ”μ²­μ΄ λ‚¨κ² λμ–΄ λ‚μ΄λ„κ°€ λ¶€ν’€λ ¤μ§
2. Temporary-turmoil : νΌμ¦μ λ‚μ΄λ„λ¥Ό κ³„μ‚°ν•λ” μ•κ³ λ¦¬μ¦μ„ μ•…μ©ν•μ—¬ λ‚μ΄λ„λ¥Ό λ¶€ν’€λ¦¬λ” κ³µκ²© (=short burst of intro-reqs)
    - λ™μ‘ νλ¦„
        1. λ§μ€ μ‰¬μ΄ intro-reqsλ¥Ό λ³΄λƒ„
        2. μ„λΉ„μ¤λ” νΌμ΅ μƒνƒλ¥Ό κ°μ§€ν•μ—¬ λ‚μ΄λ„λ¥Ό μ¦κ°€μ‹ν‚¤λ ¤κ³  ν•¨
        3. λ‚μ΄λ„μ ν‰κ· μ€ λ¨λ“  μ¶”κ°€λ λ‚μ΄λ„μ ν•© / μ²λ¦¬λ μ”μ²­μ μλ΅ μ²λ¦¬λ μ”μ²­μ— λΉ„ν•΄ ν° μ¶”κ°€λ λ‚μ΄λ„μ ν•©μ΄ λ‚μ΄λ„λ¥Ό λ¶€ν’€λ¦Ό 
3. Choking : μ•μ„  μ „λµλ“¤μ„ ν†µν•΄ κ³µκ²© ν›„ μ¶”κ°€μ μΌλ΅ μ„λΉ„μ¤μ μ©λ‰μ„ μ¤„μ΄λ” κ³µκ²© 
    - λ™μ‘ νλ¦„
        1. END-RUSH ATTACK, Temporary-turmoilμ„ ν†µν•΄ λ‚μ΄λ„λ¥Ό λ¶€ν’€λ¦Ό
        2. μ μ•λ λ‚μ΄λ„κ°€ Cli-side μµλ€ λ‚μ΄λ„λ¥Ό λ„μ—μ„ λ• RPλ¥Ό μ ν•
        3. κ³µκ²©μκ°€ λ” λ†’μ€ λ‚μ΄λ„μ μ”μ²­μ„ λ³΄λ‚΄κ³  RPλ¥Ό half open
            - half open : ν΄λΌμ΄μ–ΈνΈκ°€ RPμ—μ„ μ—°κ²°μ„ λκΉμ§€ μ™„λ£ν•μ§€ μ•μ
        4. μ ν•λ RPμ„ κ³µκ²©μκ°€ μΌμ‹μ μΌλ΅ λ¶™μ΅κ³  μμ–΄μ„ μ •μƒμ μΈ μ”μ²­μ΄ μ²λ¦¬λμ§€ λ»ν•κ² ν•¨ 
4. Maintenance : λ‚μ΄λ„λ¥Ό λ¶€ν’€λ¦¬κ³  λ‚μ΄λ„λ¥Ό μ μ§€ν•λ” κ³µκ²©
    - λ™μ‘ νλ¦„
        1. END-RUSH ATTACK, Temporary-turmoilμ„ ν†µν•΄ λ‚μ΄λ„λ¥Ό λ¶€ν’€λ¦Ό
        2. 0-λ‚μ΄λ„ μ”μ²­μ„ μ—¬λ¬ κ° λ³΄λƒ„
        3. νμ— κΈ°μ¤€μΉμ μ”μ²­μ„ λ‚¨κ²¨ λ‚μ΄λ„λ¥Ό μ μ§€ 

β†’ λΌμ΄λΈ μ„λ²„μ—μ„ ν•΄λ‹Ή κ³µκ²©λ“¤ μ‹¤ν— β†’ μ—„μ²­λ‚ λ‚μ΄λ„ μƒμΉκ³Ό μ”μ²­ μ²λ¦¬ ν‰κ·  μ‹κ°„μ΄ μ¦κ°€ν•¨ 

### λ€μ‘ λ°©λ²• λ° ν•κ³„

- DUA λ§¤κ° λ³€μ μ΅°μ •
    - λ§¤κ° λ³€μ μ΅°μ • λ°©λ²•
        1. νΈλ¦¬λ°κ³Ό νΌμ΅ ν”λκ·Έμ κ·Ήλ‹¨μ μΈ μ„κ³„κ°’ μ„¤μ •μ„ ν†µν•΄ νΈλ¦¬λ° λΉλ„λ¥Ό λ‚®μ¶¤.
        2. μ—…λ°μ΄νΈ λΌμ΄λ“ μ‹κ°„μ„ λλ¤ν™” 
        3. λ‚μ΄λ„ μ΅°μ • λΉλ„λ¥Ό λλ¦Ό
        4. νΌμ¦ λ‚μ΄λ„λ¥Ό μ¦κ°€μ‹ν‚¤λ” μƒλ΅μ΄ κ³µμ‹ : μ¶”κ°€λ λ‚μ΄λ„μ ν•©/μΈνλ μ”μ²­μ κ°―μ
        5. μ μ•λ λ‚μ΄λ„ μƒμΉμ„ μ ν•
    - λΉ„μ© (κ³µκ²©μ„ μ €μ§€ν• λ§νΌ λ§μ΄ μ¤λ¥΄μ§€λ” μ•μ)
        
        ![image.png](https://yunseo10987.github.io/assets/images/posts_img/2025-09-10%20Onion/image-4.png)
        
        (β€΅)λ” μ μ§€ λ³΄μ μ „λµμ μ‹κ°„ λ‹Ή λΉ„μ©, T2λ” ν¨κ³Όμ μΌλ΅ end-rushλ¥Ό λ§‰μ•„μ„ μ¶”μ • λΉ„μ© μƒλµ
        
        1λ²μ§Έ μ „λµμ€ κ³µκ²©μ„ λ§‰λ” λ° μ¶©λ¶„ν•μ§€ μ•μ + κ³µκ²©μκ°€ λ‚μ΄λ„ μƒμΉ μ—†μ΄ ν° μ¤μΌ€μΌμ DoS κ³µκ²©μ„ μν–‰ν•κ² ν•¨. β†’ λ‹¤λ¥Έ μ΅°μ • λ°©μ•κ³Ό κ²°ν•©X. λ…λ¦½μ μΈ μ΅°μ • λ°©μ•μΌλ΅ μ‚¬μ©
        
        2λ²μ§Έ μ „λµμ€ end-rushλ¥Ό ν¨κ³Όμ μΌλ΅ λ§‰μ. the temporary-turmoilμ€ λ‚¨μ•„ μμ
        
        3λ²μ§Έ μ „λµμ€ λ‚μ΄λ„ μ μ§€ν•λ” λ° λΉ„μ©μ„ μ¶”κ°€ν•μ§€λ§ λ¶μ¶©λ¶„
        
        4λ²μ§Έ μ „λµμ€ the temporary-turmoil λΉ„μ©μ„ μ¦κ°€ μ‹ν‚¤μ§€λ§ λ¶μ¶©λ¶„. 
        
        5λ²μ§Έ μ „λµμ€ λ‚μ΄λ„λ¥Ό κ·Ήλ‹¨μ μΌλ΅ μ¬λ¦¬λ” λ° κ±Έλ¦¬λ” μ‹κ°„μ΄ λμ–΄λ‚¬μ§€λ§ λ¶μ¶©λ¶„. 
        
    
    - 
    

ν•κ³„ : κ³µκ²©μμ λΉ„μ©μ΄ ν¬κ² μ¦κ°€ν•μ§€ μ•μ

- puzzle-auction model : ν΄λΌμ΄μ–ΈνΈκ°€ λ…λ¦½μ μΌλ΅ μ΄μ „ μ”μ²­μ κ²°κ³Όλ¥Ό λ² μ΄μ¤λ΅ νΌμ¦ λ‚μ΄λ„ μ΅°μ . μ”μ²­μ΄ μ²λ¦¬λμ§€ μ•μ€ κ²½μ° ν΄λΌμ΄μ–ΈνΈκ°€ νΌμ¦ λ‚μ΄λ„(bids)λ¥Ό λ†’μ„
- challenge-response model : μ„λ²„κ°€ μ”μ²­μ„ λ°›μ„ λ•λ§λ‹¤ κ° ν΄λΌμ΄μ–ΈνΈμ—κ² κ°λ³„μ μΌλ΅ μ§€μ •λ λ‚μ΄λ„μ μƒλ΅μ΄ νΌμ¦μ„ ν• λ‹Ή. μ„λ²„κ°€ μ™„μ „ν ν†µμ  κ°€λ¥

ν•κ³„ : Tor networkλ” λλ¦¬κΈ° λ•λ¬Έμ— μ¦‰κ°μ μΈ ν”Όλ“λ°±μ„ μ κ³µν•μ§€ λ»ν•¨. μµλ…μ„± λ•λ¬Έμ— κ°λ³„ν™”λ ν”Όλ“λ°±μ„ μ£Όμ§€ λ»ν•κΈ° λ•λ¬Έμ— κΈ€λ΅λ² κ³µμ§€λ¥Ό ν•΄μ•Ό ν•μ§€λ§ real-time broadcast μ„λΉ„μ¤λ¥Ό μ§€μ›ν•μ§€ μ•κΈ° λ•λ¬Έμ— κ³µν†µλ νΌμ¦ λ‚μ΄λ„λ¥Ό λλ¦¬κ³  λ“λ¬Όκ² κ³µμ§€ 

### μƒμ¶© κ΄€κ³„

inflationκ³Ό congestionμ μƒμ¶© κ΄€κ³„. inflationμ— μ €ν•­μ„±μ΄ μλ‹¤λ©΄ congestionμ— μ·¨μ•½ν•κ³  congestionμ— μ €ν•­μ„±μ΄ μμΌλ©΄ inflationμ— μ·¨μ•½

- λ³΄μ• λ¶„μ„ λ° κ³µμ‹
    
    λ³΄μ• λ¶„μ„ 
    
    low-levelμ„ μ¶”μƒν™”ν• high-levelμ— μ΄μ μ„ λ§μ¶ μ¶”μƒ λ¨λΈ
    
    μ •μ 1 : κ³µκ²©μ Aλ” μΈνΈλ΅ μ”μ²­ burstλ¥Ό ν†µν•΄ κ³µκ²©. Ξ±λ” (κ³µκ²© κΈ°κ°„/λΌμ΄λ“ κΈΈμ΄)μ λΉ„μ¨. Datt[t]λ” Aκ°€ λΌμ΄λ“ tμ—μ„ ν•΄κ²°ν•λ” νΌμ¦μ λ‚μ΄λ„
    
    μ •μ 2 : μ„λΉ„μ¤ Sλ” μ°μ„  μμ„νμ—μ„ λ””ν ν•μ—¬ μΈνΈλ΅ μ”μ²­ μ²λ¦¬. μµλ€μ†λ„λ” μ΄λ‹Ή Βµmax. Sλ” μ£ΌκΈ°μ μΌλ΅ μ €λ² μ—…λ°μ΄νΈ ν μƒνƒ κΈ°λ°μΌλ΅ Dsugλ¥Ό λΈλ΅λ“μΊμ¤νΈ. Dsug[t]λ” λΌμ΄λ“ tμ μ μ• λ‚μ΄λ„. ν•¨μ Ξ²(Ξ±)λ” DUA λ¨λΈ 
    
    $$
    0 β‰¤ Ξ²(Ξ±) = Dsug[t]/
    Datt [t β’1]
    β‰¤ Ξ³
    $$
    
    μ •μ 3 : DUAμ νΌμ΅ μ €ν•­μ€ λ‹¤μκ³Ό κ°™μ΄ μ •μ 
    
    $$
    \int_{0}^{1} Ξ²(Ξ±)\, dΞ±
    $$
    
    μ΄ κ°’μ΄ Ξ³μ— κ°€κΉμ›μ§€λ©΄ DUAλ” λ†’μ€ νΌμ΅ μ €ν•­μ„±μ„ κ°€μ§. Ξ±κ°€ 0μ— κ°€κΉμ›μ§€λ©΄ Sλ” μ μ•λ λ‚μ΄λ„κ°€ μ¦κ°€ν•λ‹¤λ” κ²ƒ.γ…‹γ„΄ Ξ²rβ’c(Ξ±)λ” κ°€μ¥ νΌμ΅ μ €ν•­μ μΈ DUA
    
    $$
    \beta_{r-c}(\alpha) = 
    \begin{cases}
    0 & (\alpha = 0) \\
    \gamma & (\alpha > 0)
    \end{cases}
    $$
    
    μ •μ 4 : DUAμ μΈν”λ μ΄μ… μ €ν•­μ„±μ€ λ‹¤μκ³Ό κ°™μ
    
    $$
    \int_{0}^{1} \left( \gamma - \beta(\alpha) \right) d\alpha
    $$
    
    Ξ³μ— κ°€κΉμ¤μ§€λ©΄ DUAλ” λ†’μ€ μΈν”λ  μ €ν•­μ„±μ΄ μλ” κ²ƒ. μ•„λκ°€ κ°€μ¥ μΈν”λ  μ €ν•­μ„±μ΄ μλ” DUA
    
    $$
    \beta_{r-i}(\alpha) =\begin{cases}0 & (\alpha < 1) \\\gamma & (\alpha = 1)\end{cases}
    $$
    
    κ°€μ • : Βµmax μ†λ„λ΅ κ³µκ²©μ„ λ³΄λƒ„. Ξ± μ™€ Datt κ°’μ„ μ‚¬μ©ν•μ—¬ κ³µκ²© κ°•λ„ μ΅°μ •. Ξ²(Ξ±)λ” λ‹¨μ΅° μ¦κ°€ Ξ± = 0μΌ λ• 0μ—μ„ μ‹μ‘ν•μ—¬ Ξ± = 1 μΌ λ• Ξ³μ— λ„λ‹¬ 
    
    λ³΄μ΅° μ •λ¦¬
    
    1. κ·Όλ³Έμ μΈ μƒμ¶© κ΄€κ³„ : μ™„λ²½ν• λ°λΉ„λ΅€ κ΄€κ³„ 
    2. νΌμ΅ μ €ν•­ DUAμ μ·¨μ•½μ  : μΈν”λ μ΄μ… κ³µκ²©μ— μ·¨μ•½
    3. μΈν”λ μ΄μ… μ €ν•­ DUAμ μ·¨μ•½μ  
    
    β†’ κ²°κµ­ νΌμ΅ κ³µκ²©κ³Ό μΈν”λ μ΄μ… κ³µκ²©μ— λ™μ‹μ— μ €ν•­ λ¶κ°€ 
    

## ν•΄κ²° μ•κ³ λ¦¬μ¦ λ° μ‹¤ν— κ²°κ³Ό

νΌμ΅ μ§•ν›„ λ€μ‹  μ „μ²΄μ μΈ μ”μ²­ μ²λ¦¬ μ†λ„λ¥Ό λ¨λ‹ν„°λ§ν•μ—¬ μ§κ΄€μ μΈ λ‚μ΄λ„ μ΅°μ  κ°€λ¥. λ©ν‘ μ”μ²­ μ²λ¦¬μ¨κ³Ό μ‹¤μ  μ”μ²­ μ²λ¦¬μ¨ μ‚¬μ΄μ λ¶μΌμΉμ— μν•΄μ„ κ²°μ • 

- μ•κ³ λ¦¬μ¦
    
    ```markdown
    Algorithm 2 New Difficulty Update Algorithm
     parameter:
     Βµtarget: The target dequeue rate that the service aims to maintain.
     Ξ΄: The adjusting parameter, with a default value of 1.
     Suggested puzzle difficulty
     state:
     Dsug[n]: The suggested puzzle difficulty at round n.
     β‘Dhandled[n]: The sum of all puzzle difficulties of handled re
    quests during round n.
     rendhandled[n]: The number of handled requests during round n.
     update:
     at the end of each update round,
     1: Βµadjust[n] β† rendhandled[n]/TroundΓ—Ξ΄ where Tround is round duration
     2: Dhandled[n] β† β‘Dhandled[n]/rendhandled[n]
     3: if Dhandled[n] = 0 and Βµadjust[n] > Βµtarget then
     4: Dsug[n+1] β†8
     5: else
     6: Dsug[n+1] β† Βµadjust[n]
     7: end if
    ```
    
    1λ‹¨κ³„ : `ΞΌ_adjust[n] β† rend_handled[n] / (T_round Γ— Ξ΄)` 
    
    μ‹¤μ  μ”μ²­ μ²λ¦¬ μ†λ„ / λ―Όκ°λ„ = μ΅°μ •λ μ‹¤μ  μ²λ¦¬μ¨ 
    
    2λ‹¨κ³„ : `D_handled[n] β† β‘D_handled[n] / rend_handled[n]`
    
    ν‰κ·  νΌμ¦ λ‚μ΄λ„
    
    3λ‹¨κ³„ 
    
    ν‰κ·  νΌμ¦ λ‚μ΄λ„κ°€ 0μ΄κ±°λ‚ μ΅°μ •λ μ‹¤μ  μ²λ¦¬μ¨μ΄ λ©ν‘ μ²λ¦¬μ¨λ³΄λ‹¤ ν¬λ‹¤λ©΄ λ‹¤μ λΌμ΄λ“μ μ μ• λ‚μ΄λ„κ°€ 8 
    
    4λ‹¨κ³„ 
    
    μ•„λ‹λ©΄ λ‹¤μ λ‚μ΄λ„λ” = ν‰κ·  λ‚μ΄λ„ x μ΅°μ •λ μ‹¤μ  μ²λ¦¬μ¨ / λ©ν‘ μ²λ¦¬μ¨ 
    
- κ²°κ³Ό
    - λ‚μ΄λ„λ¥Ό λ¶€ν’€λ¦¬λ”λ° λΉ„μ© μƒμΉ
    - μ§§μ€ νΌμ΅ κ³µκ²©μ— λ€ν• λ°©μ–΄ λ¥λ ¥ κ°•ν™”
        
        ![image.png](https://yunseo10987.github.io/assets/images/posts_img/2025-09-10%20Onion/image-5.png)
        
    - intro-flooding λ°©μ–΄
        
        ![image.png](https://yunseo10987.github.io/assets/images/posts_img/2025-09-10%20Onion/image-6.png)
        
    - μ‹¤ν— κ²°κ³Ό
        
        END-RUSH ATTACKκ³Ό temporary-turmoilλ¥Ό ν†µν• λ‚μ΄λ„ λ¶€ν’€λ¦¬κΈ° μ‹¤ν¨
        
        κ·Έμ— λ”°λ¥Έ chokingκ³Ό Maintenance μ—­μ‹ μ‹¤ν¨
        
    

## κ²°λ΅ 

κΈ°μ΅΄μ DUAμ™€ λ‹¤λ¥Έ μ•κ³ λ¦¬μ¦μ„ μ‚¬μ©ν•μ—¬ inflationκ³Ό congestionμ μƒμ¶© κ΄€κ³„μ κ· ν•μ μ„ μ°Ύμ. 

λ‹¤λ¥Έ μµλ… λ„¤νΈμ›ν¬μ—μ„μ DoS λ°©μ–΄μ±…μ—λ„ μ μ© κ°€λ¥μ„± μ—°κµ¬.

Torμ—μ„ λ‹¤λ¥Έ κ³µκ²© λ°©λ²•κ³Ό ν•΄κ²°μ±…(ex. IP μ¤ν‘Έν•‘)κ³Ό λ‹¤λ¥Έ λ„¤νΈμ›ν¬μ—μ„μ DoS/DDoSμ— λ€ν•΄μ„ κ³µλ¶€