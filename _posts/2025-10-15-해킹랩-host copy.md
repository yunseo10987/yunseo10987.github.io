---
title: "[2025-10-15] 가상 환경 구축"
excerpt: "호스트 운영체제 설정"

categories:
  - Lab
tags:
  - [NetWork]

permalink: /Lab/[2025-10-15] 가상 환경 구축/

toc: true
toc_sticky: true

date: 2025-10-15
last_modified_at: 2025-10-15
---

## 🦥 본문

## 파일 및 폴더

### 설치 폴더 생성

설치한 응용 프로그램을 관리하기 위한 저장 폴더 생성. `C:\App` 또는 `C:\Bin` 같은 폴더 생성. 버전 관리 및 삭제가 수월해짐

### 시스템과 데이터용 파티션 분리

시스템 파티션과 데이터 파티션을 분리

- 시스템 파티션 : 운영 체제가 설치된 파티션

### 호스트 운영체제와 게스트 운영체제 간 파일 교환

1. 파일 서버 이용 : 파일 서버를 구축하고 상시 가동. 파일 서버에 복사 후 가져오는 방식
    - 장점 : 환경에 무관
    - 단점 : 파일 서버를 구축해야 함
2. FTP 서비스 
    - 장점 : 파일 서버를 구축할 필요가 없음
    - 단점
        - 게스트 운영체제끼리 파일을 주고 받기 위해 호스트 운영체제를 경유해야 하므로 2번의 데이터 전송
        - 파일을 이중 관리
3. 윈도우 파일 공유 기능 : 호스트 운영 체제인 윈도우에 공유 폴더 생성
    - 장점
        - 기본 기능임
        - 마운트해서 사용하므로 이중 관리 X
    - 단점 : 윈도우 업데이트 등에 따라 공유 폴더에 접속할 수 없는 경우가 발생할 수 있음
4. VirtualBox 파일 공유 기능 사용 :  Guest Additions(게스트 확장)을 설치하면 VirtualBox 내의 공유 폴더 이용
    - 장점 : 간단하며 이중 관리를 하지 않음
    - 단점 : 물리적으로 별도로 존재하는 PC와는 공유할 수 없음
5. VirtualBox 드래그&드롭 : 게스트 확장이 제공하는 기능
    - 장점 : 공유 폴더를 이용하지 않고 간단하게 복사
    - 단점 : 물리적으로 별도로 존재하는 PC와는 공유할 수 없음

### VirtualBox 파일 공유 기능

- 호스트 운영 체제 설정
    1. 공유 폴더 생성 : `C:\공유폴더` 생성 후 파일을 넣어둠 
    2. 공유 폴더 설정 : [VirtualBox] - [설정] - [공유 폴더]에서 추가
        
        공유 폴더 선택 후 자동 마운트 체크 
        
        - 자동 마운트를 체크하면 게스트 운영체제에서 /media/sf_<공유 폴더>로 마운트
        - 마운트 지점을 설정했다면 /마운트 지점으로 마운트

### VirtualBox 드래그&드롭 기능

[VirtualBox] - [Kali Linux] - [장치] - [드래그앤드롭] - [양방향]

### 호스트 운영 체제의 공유 설정 변경

CMD에서 `net 공유 폴더` 를 하면 명시적으로 공유 설정을 한 적이 없는 데, 기본 폴더들이 공유되고 있음 

→ PC IP 주소와 인증을 통해 기본 드라이브에 접근이 가능하기 때문에 보안에 취약

- 공유 파일 목록 및 일시적 공유 중지

[Window + R] - [compmgmt.msc] - [컴퓨터 관리] - [공유 폴더] - [공유]

- 공유 제거

[Window + R] - [HKEY_LOCAL_MACHINE] - [SYSTEM] - [CURRENTCONTROLSET] - [SERVICES] - [LANMANSERVER] - [PARAMETERS] 

레지스트리 편집기에서 [새로 만들기] - [DWORD(32비트)] 클릭하고 [16진수 ‘0’]으로 설정 후 리부트

### 바이러스 및 위협 방지 설정 변경

- 실시간 보호 끄기 : 해킹 도구 다운로드 시 바이러스로 인식되는 경우가 많기 때문에 실습 중에는 기능을 꺼야 함.
- 보호 기록에서 복구 : 백신에서 발견된 경우 해당 파일을 격리. [바이러스 및 위협 방지] - [현재 위협] - [디바이스에서 허용] - [작업 시작]
- 백신 검사에서 제외 : 해킹 도구가 저장될 폴더에 설정. [바이러스 및 위협 방지] - [바이러스 및 위협 방지 설정] - [제외]

### 자동 실행 설정 확인

자동 실행을 악용한 공격을 막기 위한 설정. USB 장치를 연결하면 자동 실행 알림이 표시. 어떤 조작을 할지 묻는 창이 표시되는 데, 작업 선택 창에서 한 번 작업을 지정하면 이후 같은 장치가 연결됐을 때 작업이 자동으로 수행